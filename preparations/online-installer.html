
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Preparing an online installer Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search-plus/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-medium-zoom/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
        <link rel="stylesheet" href="../styles/website.css">
        
    

    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="opencore-efi.html" />
    
    
    <link rel="prev" href="offline-installer.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        <li class="header">Introduction</li>
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../overview/macos-limits.html">
            
                <a href="../overview/macos-limits.html">
            
                    
                    Hardware limitations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../overview/disclaimer.html">
            
                <a href="../overview/disclaimer.html">
            
                    
                    Disclaimer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../overview/requirements.html">
            
                <a href="../overview/requirements.html">
            
                    
                    Requirements
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../overview/terminology.html">
            
                <a href="../overview/terminology.html">
            
                    
                    Terminology
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../overview/plist.html">
            
                <a href="../overview/plist.html">
            
                    
                    PLIST Structure
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Preparations</li>
        
        
    
        <li class="chapter " data-level="2.1" >
            
                <a target="_blank" href="https://hackintosh-multiboot.gitbook.io/hackintosh-multiboot/">
            
                    
                    Multiboot
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="installer-overview.html">
            
                <a href="installer-overview.html">
            
                    
                    Installer creation
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.2.1" data-path="offline-installer.html">
            
                <a href="offline-installer.html">
            
                    
                    Preparing an offline installer
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="2.2.2" data-path="online-installer.html">
            
                <a href="online-installer.html">
            
                    
                    Preparing an online installer
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="opencore-efi.html">
            
                <a href="opencore-efi.html">
            
                    
                    Setting Up OpenCore
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Configuring OpenCore</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="../OpenCore/ktext.html">
            
                <a href="../OpenCore/ktext.html">
            
                    
                    Gathering Files
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" >
            
                <a target="_blank" href="https://dortania.github.io/Getting-Started-With-ACPI/">
            
                    
                    Getting started with ACPI
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="../OpenCore/config.html">
            
                <a href="../OpenCore/config.html">
            
                    
                    OpenCore config
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.3.1" data-path="../OpenCore/config-laptop.plist/ivy-bridge.html">
            
                <a href="../OpenCore/config-laptop.plist/ivy-bridge.html">
            
                    
                    Ivy Bridge
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3.2" data-path="../OpenCore/config-laptop.plist/haswell.html">
            
                <a href="../OpenCore/config-laptop.plist/haswell.html">
            
                    
                    Haswell
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3.3" data-path="../OpenCore/config-laptop.plist/broadwell.html">
            
                <a href="../OpenCore/config-laptop.plist/broadwell.html">
            
                    
                    Broadwell
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3.4" data-path="../OpenCore/config-laptop.plist/skylake.html">
            
                <a href="../OpenCore/config-laptop.plist/skylake.html">
            
                    
                    Skylake
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3.5" data-path="../OpenCore/config-laptop.plist/kaby-lake.html">
            
                <a href="../OpenCore/config-laptop.plist/kaby-lake.html">
            
                    
                    Kaby Lake
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3.6" data-path="../OpenCore/config-laptop.plist/coffee-lake.html">
            
                <a href="../OpenCore/config-laptop.plist/coffee-lake.html">
            
                    
                    Coffee Lake(8th Gen)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3.7" data-path="../OpenCore/config-laptop.plist/coffee-lake-plus.html">
            
                <a href="../OpenCore/config-laptop.plist/coffee-lake-plus.html">
            
                    
                    Coffee Lake Plus(9th Gen)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3.8" data-path="../OpenCore/config-laptop.plist/icelake.html">
            
                <a href="../OpenCore/config-laptop.plist/icelake.html">
            
                    
                    Icelake
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Installation</li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="../installation/installation-process.html">
            
                <a href="../installation/installation-process.html">
            
                    
                    Installation Process
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="../installation/troubleshooting.html">
            
                <a href="../installation/troubleshooting.html">
            
                    
                    Troubleshooting
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Post Install</li>
        
        
    
        <li class="chapter " data-level="5.1" data-path="../post-install/">
            
                <a href="../post-install/">
            
                    
                    Post-Install
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1.1" >
            
                <a target="_blank" href="https://dortania.github.io/OpenCore-Desktop-Guide/post-install/security">
            
                    
                    Security and FileVault
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.2" >
            
                <a target="_blank" href="https://dortania.github.io/OpenCore-Desktop-Guide/post-install/audio">
            
                    
                    Fixing Audio
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.3" >
            
                <a target="_blank" href="https://dortania.github.io/OpenCore-Desktop-Guide/post-install/oc2hdd">
            
                    
                    Booting without USB
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.4" >
            
                <a target="_blank" href="https://dortania.github.io/OpenCore-Desktop-Guide/post-install/update">
            
                    
                    Updating OpenCore, kexts and macOS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.5" >
            
                <a target="_blank" href="https://dortania.github.io/OpenCore-Desktop-Guide/extras/msr-lock">
            
                    
                    Fixing CFG Lock
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.6" >
            
                <a target="_blank" href="https://dortania.github.io/OpenCore-Desktop-Guide/post-install/verbose">
            
                    
                    Fixing Resolution and Verbose
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.7" >
            
                <a target="_blank" href="https://dortania.github.io/OpenCore-Desktop-Guide/post-install/iservices">
            
                    
                    Fixing iServices
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.8" >
            
                <a target="_blank" href="https://dortania.github.io/OpenCore-Desktop-Guide/post-install/nvram">
            
                    
                    Emulated NVRAM
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.9" >
            
                <a target="_blank" href="https://dortania.github.io/OpenCore-Desktop-Guide/post-install/pm.md">
            
                    
                    Fixing Power Management
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Preparing an online installer</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div class="search-plus" id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="preparing-an-online-installer-macoswindowslinux">Preparing an online installer (macOS/Windows/Linux)</h1>
<p>This requires a working internet connection on the target machine! If you&apos;re using WiFi, that means that the WiFi card must be compatible with <strong>macOS</strong>. It is possible to use HoRNDIS to tether with an Android phone if needed.</p>
<p>Using gibMacOS, you can download the recovery image directly from Apple&apos;s servers and put it on a USB. Once booted up, this image can download the macOS installer on to the target hard drive.</p>
<p><a href="https://internet-install.gitbook.io/macos-internet-install/preparing-your-installer/preparing-your-installer-media" target="_blank">Old Internet-Install Guide</a></p>
<p>Requirements:</p>
<ul>
<li>4 GB USB or greater</li>
<li><a href="https://www.python.org/downloads/" target="_blank">Python 2.7 or greater</a><ul>
<li>For Windows, make sure when installing that &quot;add to PATH&quot; is enabled in the installer.<ul>
<li>NOTE: If the .bat fails to run, you can run <code>python &lt;file.py&gt;</code>.</li>
</ul>
</li>
<li>For Linux, install it through whatever package manager your distro uses</li>
<li>macOS already includes Python</li>
</ul>
</li>
<li><a href="https://github.com/corpnewt/gibMacOS" target="_blank">gibMacOS</a><ul>
<li>Clone using git (<code>git clone https://github.com/CorpNewt/gibmacos.git</code>)
<em>OR</em></li>
<li>Click <code>Clone or download</code> in the top right and <code>Download ZIP</code>, then unzip.
<img src="../images/preparations/CloneOrDownload.jpg" alt="gibMacOS download image"></li>
</ul>
</li>
<li>7-Zip<ul>
<li>Graphical version is probably easier in Windows</li>
</ul>
</li>
</ul>
<h2 id="getting-the-recovery-package">Getting the Recovery Package</h2>
<ol>
<li>Run gibMacOS<ul>
<li>On Windows, run <code>gibMacOS.bat</code>. If it does not recognize Python, you can also run <code>python gibMacOS.command</code></li>
<li>Linux/macOS - directly run gibMacOS.command</li>
</ul>
</li>
<li>Toggle Recovery-Only by entering R and pressing Enter. Make sure it says <code>Toggle Recovery-Only (Currently on)</code><ul>
<li>This reduces the download size as we only need the recovery package (500 MB) rather than the full release (7-8 GB)</li>
</ul>
</li>
<li>Select the release you want to download. In this case, we&apos;re downloading 10.15.4, or the latest release of macOS Catalina. It does not matter if <code>FULL Install</code> is at the end or not.
 <img src="../images/preparations/gibMacOS.jpg" alt="gibMacOS screenshot"></li>
<li>You can exit out of gibMacOS once it&apos;s done downloading.</li>
</ol>
<h2 id="putting-macos-on-a-usb">Putting macOS on a USB</h2>
<h3 id="windows">Windows</h3>
<p>OpenCore allows us to put the BaseSystem.dmg on the USB with OpenCore, so we only need to format the USB to one FAT32 partition and drop it in. This does require 7-Zip installed.</p>
<ol>
<li>Right click the Start Button on your task bar and select <code>Disk Management</code>.</li>
<li>You should see all of your partitions and disks. On the bottom half, you&apos;ll see your devices. Find your USB.</li>
<li>You&apos;ll want to format the USB to have a FAT32 partition.<ul>
<li>If you have multiple partitions on the USB, right click each partition and click <code>Delete Volume</code> for your USB (<strong>This will remove data, make sure you have backups and only remove partitions from your USB</strong>)<ul>
<li>Right click the unallocated space and create a new simple volume. Make sure it is FAT32 and at least a gigabyte or two big. Name it &quot;EFI&quot;.</li>
</ul>
</li>
<li>Otherwise, right click the partition on the USB and click <code>Format</code> and set it to FAT32.
<img src="../images/preparations/DiskManagement.jpg" alt="Disk Management right click menu"></li>
</ul>
</li>
<li>In File Explorer, go to your USB and create a new folder at the root called <code>com.apple.recovery.boot</code>.</li>
<li>Again in File Explorer, find the .pkg downloaded by gibMacOS under <code>macOS Downloads</code> in the gibMacOS folder.</li>
<li>Open the .pkg by right clicking and going under 7-Zip -&gt; Open Archive
 <img src="../images/preparations/7zipWinders.jpg" alt="7-Zip right click menu"></li>
<li>Open RecoveryHDMeta.dmg (or similar named dmg) then open the folder contained.</li>
<li>You should see BaseSystem.dmg and BaseSystem.chunklist. Drag/copy these to the <code>com.apple.recovery.boot</code> folder on your USB.
 <img src="../images/preparations/BaseSystemWinders.jpg" alt="BaseSystem screenshot"></li>
<li>You are ready to continue on and put OpenCore on the USB.</li>
</ol>
<h3 id="linux">Linux</h3>
<p>This will go over using gdisk, though you can use other utilities that you are comfortable using. This will create the necessary partitions on the USB.</p>
<ol>
<li>Run <code>lsblk</code> and note your USB device</li>
<li>Run <code>sudo gdisk /dev/&lt;your USB block&gt;</code><ol>
<li>Enter <code>p</code> to print your block&apos;s partitions (and verify it&apos;s the correct USB)</li>
<li>Enter <code>o</code> to clear the partition table and make a new GPT one</li>
<li>Create a partition by entering <code>n</code><ul>
<li>Partition Number: Default (Leave blank for default)</li>
<li>First Sector: Default</li>
<li>Last Sector: Default</li>
<li>Hex code or GUID: <code>0700</code> for Microsoft basic data partition type</li>
</ul>
</li>
<li>Enter <code>w</code> to write changes to the USB</li>
<li>Close by entering <code>q</code></li>
</ol>
</li>
<li>Verify USB was formatted correctly with <code>lsblk</code></li>
<li>Run <code>mkfs.vfat -F 32 -n &quot;macOS&quot; /dev/&lt;your partition&gt;</code> to format the partition you created to FAT32 and to name it &quot;macOS&quot;</li>
<li>Mount the USB by running <code>mount /dev/&lt;your partition&gt; /mnt</code></li>
<li><code>cd</code> to your USB by running <code>cd /mnt</code> and create a folder with <code>mkdir com.apple.recovery.boot</code>. This will be where we put the Recovery image.</li>
<li><code>cd</code> to the .pkg you downloaded under <code>macOS downloads</code> in the gibMacOS folder</li>
<li>Make sure <code>p7zip-full</code> is installed<ul>
<li><code>sudo apt install p7zip-full</code> for Ubuntu/Ubuntu based</li>
<li><code>sudo pacman -S p7zip</code> for Arch</li>
</ul>
</li>
<li>Run <code>7z e -txar *.pkg *.dmg; 7z e *.dmg */Base*</code>. This extracts the recovery from the pkg by extracting the initial update package, then extracting the BaseSystem damage.
 <img src="../images/preparations/LinooxExtract.jpg" alt="RecoveryHDMetaDmg.pkg extraction">
 <img src="../images/preparations/LinooxLS.jpg" alt="File listing"></li>
<li>Once you find <code>BaseSystem.dmg</code> and <code>BaseSystem.chunklist</code>, copy these to <code>com.apple.recovery.boot</code> on the USB.</li>
<li>You are ready to continue and download/configure OpenCore</li>
</ol>
<h3 id="macos">macOS</h3>
<ol>
<li>In Finder, find the Recovery package under <code>macOS Downloads</code>. You may need to enable file name extensions under <code>Finder &gt; Preferences &gt; Advanced</code>.</li>
<li>Rename the extension from <code>.pkg</code> to <code>.dmg</code></li>
<li>Open the image by double clicking (this will mount said image)</li>
<li>Open <code>Disk Utility</code><ol>
<li>Select <code>View &gt; Show All Devices</code> (above the drive list in the top left)</li>
<li>Select your USB <em>device</em></li>
<li>Select the FAT32 partition<ul>
<li>If you do not see any partitions, then select Erase and format it as <code>MS-DOS (FAT)</code> and GUID.</li>
</ul>
</li>
<li>Apply</li>
<li>Quit Disk Utility</li>
</ol>
</li>
<li>Open the USB and create a folder called <code>com.apple.recovery.boot</code>.</li>
<li>Go to the image you mounted earlier and find <code>BaseSystem.dmg</code> and <code>BaseSystem.chunklist</code>. Copy these both to the <code>com.apple.recovery.boot</code> folder.</li>
<li>You are ready to continue and put OpenCore on the USB.</li>
</ol>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="offline-installer.html" class="navigation navigation-prev " aria-label="Previous page: Preparing an offline installer">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="opencore-efi.html" class="navigation navigation-next " aria-label="Next page: Setting Up OpenCore">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Preparing an online installer","level":"2.2.2","depth":2,"next":{"title":"Setting Up OpenCore","level":"2.3","depth":1,"path":"preparations/opencore-efi.md","ref":"preparations/opencore-efi.md","articles":[]},"previous":{"title":"Preparing an offline installer","level":"2.2.1","depth":2,"path":"preparations/offline-installer.md","ref":"preparations/offline-installer.md","articles":[]},"dir":"ltr"},"config":{"plugins":["theme-default","-lunr","-search","search-plus","addcssjs","medium-zoom"],"styles":{"ebook":"styles/ebook.css","epub":"styles/epub.css","mobi":"styles/mobi.css","pdf":"styles/pdf.css","print":"styles/print.css","website":"styles/website.css"},"pluginsConfig":{"fontsettings":{"theme":"night","family":"sans","size":2},"search-plus":{},"addcssjs":{"css":[],"js":[]},"medium-zoom":{},"highlight":{},"sharing":{"facebook":false,"twitter":false,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":[]},"theme-default":{"showLevel":false,"styles":{"ebook":"styles/ebook.css","epub":"styles/epub.css","mobi":"styles/mobi.css","pdf":"styles/pdf.css","print":"styles/print.css","website":"styles/website.css"}}},"theme":"default","medium-zoom":{"margin":24,"background":"#363b40","scrollOffset":0},"pdf":{"pageBreaksBefore":"/","headerTemplate":null,"paperSize":"a4","margin":{"right":62,"left":62,"top":36,"bottom":36},"fontSize":12,"fontFamily":"Arial","footerTemplate":null,"chapterMark":"pagebreak","pageNumbers":false},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"links":{"sharing":{"google":false,"facebook":false,"twitter":false,"weibo":false,"all":false}},"gitbook":"*"},"file":{"path":"preparations/online-installer.md","mtime":"2020-04-27T23:19:52.804Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-04-27T23:20:41.313Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search-plus/jquery.mark.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-plus/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-medium-zoom/medium-zoom.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-medium-zoom/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    

    </body>
</html>

